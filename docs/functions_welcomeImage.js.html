<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Adding meta -->
    
    
    <meta name="author" content="UltraX" />
    
    <meta name="description" content="UltraX Package is a unique package that allows you to create cool things using simple functions and make it faster, for example there is an invite logger, discord buttons paginator, etc..." />
    
    

    <!-- Adding external script-->
    
    
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous" ></script>
    
    

    <!-- Adding external style-->
    
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous" />
    
    

    <!-- Adding scripts-->
    

    <!-- Adding style-->
    

    <!-- Adding overlay script-->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/overlayscrollbars/1.13.0/js/OverlayScrollbars.min.js"
      integrity="sha512-5R3ngaUdvyhXkQkIqTf/k+Noq3phjmrqlUQyQYbgfI34Mzcx7vLIIYTy/K1VMHkL33T709kfh5y6R9Xy/Cbt7Q=="
      crossorigin="anonymous"></script>
    

    <!-- Adding overlay style-->
    


    <title>
      functions/welcomeImage.js
    </title>

    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/third-party/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/third-party/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/reset.css">
    <link type="text/css" rel="stylesheet" href="styles/heading.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-base.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-dark.css">
    
    <svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
    style="display:none">
    <defs>
        <symbol id="copy-icon" viewbox="0 0 488.3 488.3">
            <g>
                <path
                    d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z" />
                <path
                    d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z" />
            </g>
        </symbol>
        <symbol id='search-icon' viewBox="0 0 512 512">
            <g>
                <g>
                    <path
                        d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z" />
                </g>
            </g>
            <g>
                <g>
                    <path
                        d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z" />
                </g>
            </g>
        </symbol>
        <symbol id="down-icon" viewBox="0 0 16 16">
            <path 
                fill-rule="evenodd" 
                clip-rule="evenodd" 
                d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"
            >
            </path>
        </symbol>
    </defs>
</svg>
  </head>

  <body>

    <nav class="navbar" id="navbar">
      <div class="navbar-heading" id="navbar-heading"><a href="index.html"><h2 class="navbar-heading-text">UltraX</h2></a></div><div class="search-box" id="search-box"><div class="search-box-input-container"><input class="search-box-input" type="text" placeholder="Search..." id="search-box-input" /><svg class="search-icon" alt="search-icon"><use xlink:href="#search-icon"></use></svg></div><div class="search-item-container" id="search-item-container"><ul class="search-item-ul" id="search-item-ul"></ul></div></div><div class="sidebar-main-content" id="sidebar-main-content"><ul><li class="menu-li"><a href='https://github.com/KarimX32/UltraX-Package/' class='github menu-link' id='github' target='_blank'>GitHub</a></li><li class="menu-li"><a href='https://discord.com/invite/Qk6j2fpeat' class='discord menu-link' id='discord' target='_blank'>Discord</a></li></ul><div class="accordion collapsed" id="9362823" > <h3 class="accordion-heading">Classes<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion-list" id=""><a href="sussyBaka.html">sussyBaka</a></li><li class="accordion-list" id=""><a href="Wikipeida.html">Wikipeida</a></li></ul> </div><div class="accordion collapsed" id="9982032" > <h3 class="accordion-heading">Events<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion-list" id=""><a href="global.html#event:inviteJoin">inviteJoin</a></li></ul> </div><div class="accordion collapsed" id="798889" > <h3 class="accordion-heading">Global<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion-list" id=""><a href="global.html#bin">bin</a></li><li class="accordion-list" id=""><a href="global.html#ButtonPaginator">ButtonPaginator</a></li><li class="accordion-list" id=""><a href="global.html#inviteLogger">inviteLogger</a></li><li class="accordion-list" id=""><a href="global.html#passGen">passGen</a></li><li class="accordion-list" id=""><a href="global.html#sleep">sleep</a></li><li class="accordion-list" id=""><a href="global.html#welcomeImage">welcomeImage</a></li></ul> </div></div>
      
        <div class="navbar-resize" id="navbar-resize">
          <div class="resize-dots-container">
            <div class="dots"></div>
            <div class="dots"></div>
            <div class="dots"></div>
          </div> 
        </div>
      

    </nav>
    <div class="navbar-ham" id="navbar-ham">
      <div>
        <div class="first"></div>
        <div class="second"></div>
        <div class="third"></div>
      </div>
    </div>

    <div id="main" class="main-content">
      
      <h1 id='page-title' class="page-title">
        functions/welcomeImage.js
      </h1>
      

      



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const Canvas = require("canvas");
const Discord = require("discord.js"); 

/**
 * Create a welcome image for Discord bot using discord.js
 * @param {String} background The image background
 * @param {String} avatar The avatar
 * @param {String} text_1 The title
 * @param {String} text_2 The subtitle
 * @param {String} text_3 The footer
 * @param {String} color The color (hex code)
 * @param {String | Object} settings The attachment
 * @returns {Discord.MessageAttachment}
 */
async function welcomeImage(background, avatar, text_1, text_2, text_3, color, settings) {
    if(!background) throw new SyntaxError("welcomeImage(background, avatar, text_1, text_2, text_3, color) ==> background is null.")
    if(!background.endsWith('.png')) throw new Error("welcomeImage(background, avatar, text_1, text_2, text_3, color) ==> background must be a PNG.")
    if(!avatar) throw new SyntaxError("welcomeImage(background, avatar, text_1, text_2, text_3, color) ==> avatar is null")
    if(!text_1) throw new SyntaxError("welcomeImage(background, avatar, text_1, text_2, text_3, color) ==> text_1 is null")
    if(!text_2) throw new SyntaxError("welcomeImage(background, avatar, text_1, text_2, text_3, color) ==> text_2 is null")
    if(!text_3) throw new SyntaxError("welcomeImage(background, avatar, text_1, text_2, text_3, color) ==> text_3 is null")
    if(!color) throw new SyntaxError("welcomeImage(background, avatar, text_1, text_2, text_3, color) ==> color is null")
    if(!color.startsWith('#')) throw new ReferenceError("welcomeImage(background, avatar, text_1, text_2, text_3, color) ==> color is not a hex")
    let fonts;
    let attachmentName;
    let text1_fontSize;
    let text2_fontSize;
    let text3_fontSize;

    if(!settings || !settings.font) fonts = "sans-serif"
    else fonts = settings.font

    if(!settings || !settings.attachmentName) attachmentName = "welcome"
    else attachmentName = settings.attachmentName

    if(!settings || !settings.text1_fontSize) text1_fontSize = 72
    else if(isNaN(settings.text1_fontSize)) throw new Error("text1_fontSize ==> The text 1 font size isNaN")
    else if(settings.text1_fontSize &lt; 5) throw new Error("text1_fontSize ==> The text 1 font size cannot be less than 5px")
    else text1_fontSize = settings.text1_fontSize

    if(!settings || !settings.text2_fontSize) text2_fontSize = 42
    else if(isNaN(settings.text2_fontSize)) throw new Error("text2_fontSize ==> The text 2 font size isNaN")
    else if(settings.text2_fontSize &lt; 5) throw new Error("text2_fontSize ==> The text 2 font size cannot be less than 5px")
    else text2_fontSize = settings.text2_fontSize

    if(!settings || !settings.text3_fontSize) text3_fontSize = 32
    else if(isNaN(settings.text3_fontSize)) throw new Error("text3_fontSize ==> The text 3 font size isNaN")
    else if(settings.text3_fontSize &lt; 5) throw new Error("text3_fontSize ==> The text 3 font size cannot be less than 5px")
    else text3_fontSize = settings.text3_fontSize


    var welcomeCanvas = {};
    welcomeCanvas.create = Canvas.createCanvas(1024, 500)
    welcomeCanvas.context = welcomeCanvas.create.getContext('2d')
    const ctx = welcomeCanvas.context
    ctx.font = `${text1_fontSize}px ${fonts}`;
    ctx.fillStyle = color;

    const bg = await Canvas.loadImage(background)
    ctx.drawImage(bg, 0, 0, 1024, 500)
    ctx.textAlign = 'center'
    ctx.fillText(text_1, 512, 360);
    ctx.beginPath();
    ctx.arc(512, 166, 128, 0, Math.PI * 2, true);
    ctx.stroke()
    ctx.fill()
    

    let canvas = welcomeCanvas;
    canvas.context.font = `${text2_fontSize}px ${fonts}`,
    canvas.context.textAlign = 'center';
    canvas.context.fillText(text_2, 512, 410)
    canvas.context.font = `${text3_fontSize}px ${fonts}`
    canvas.context.fillText(text_3, 512, 455)
    canvas.context.beginPath()
    canvas.context.arc(512, 166, 119, 0, Math.PI * 2, true)
    canvas.context.closePath()
    canvas.context.clip()
    await Canvas.loadImage(avatar)
    .then(img => {
        canvas.context.drawImage(img, 393, 47, 238, 238);
    })
    
	return new Discord.MessageAttachment(canvas.create.toBuffer(), `${attachmentName}.png`);
}

module.exports = welcomeImage</code></pre>
        </article>
    </section>




    </div>

    <footer class="footer" id="footer">
      UltraX Package is a unique package that allows you to create cool things using simple functions and make it faster, for example there is an invite logger, discord buttons paginator, etc...
    </footer>

    <script src="scripts/third-party/prettify.js"></script>
    <script src="scripts/third-party/lang-css.js"></script>
    <script type="text/javascript" src="scripts/misc.js"></script>

    <script>prettyPrint();</script>
    <script src="scripts/linenumber.js"></script>
    <script src="scripts/fix-code-block.js"></script>
    <script src="scripts/fix-navbar.js"></script>
    
      <script src="scripts/search.js"></script>
      <script src="scripts/third-party/fuse.js"></script>
      <script>
        var list = [{"title":"sussyBaka","link":"<a href=\"sussyBaka.html\">sussyBaka</a>"},{"title":"Wikipeida","link":"<a href=\"Wikipeida.html\">Wikipeida</a>"},{"title":"inviteJoin","link":"<a href=\"global.html#event:inviteJoin\">inviteJoin</a>"},{"title":"bin","link":"<a href=\"global.html#bin\">bin</a>"},{"title":"ButtonPaginator","link":"<a href=\"global.html#ButtonPaginator\">ButtonPaginator</a>"},{"title":"inviteLogger","link":"<a href=\"global.html#inviteLogger\">inviteLogger</a>"},{"title":"passGen","link":"<a href=\"global.html#passGen\">passGen</a>"},{"title":"sleep","link":"<a href=\"global.html#sleep\">sleep</a>"},{"title":"welcomeImage","link":"<a href=\"global.html#welcomeImage\">welcomeImage</a>"}];
        var options = 
          setupSearch(list, options)
      </script>
    

    
    <script type="text/javascript">
        function foo(){console.log('foo')}
    </script>
    

    
      <script src="scripts/resize.js"></script>
      <script type="text/javascript">
        var option = {"min":"300","max":"600"}
        setupResizeOptions(option)
      </script>
    

    
    <script type="text/javascript">
    function foo(){console.log('foo')}
    </script>
    

    
    <script type="text/javascript">
    var option = JSON.parse('{"options":{}}')
      console.log(option)
      document.addEventListener("DOMContentLoaded", function () {
        OverlayScrollbars(document.querySelectorAll('body'), option.option || {});
      });
    </script>
    


  </body>

</html>